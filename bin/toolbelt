#!/usr/bin/env php
<?php

namespace CubicMushroom\Tools\ProjectToolbelt;

use Symfony\Component\Console\Application;
use Symfony\Component\Finder\Finder;

if (!defined('DS')) {
    define('DS', DIRECTORY_SEPARATOR);
}

// For local testing
if (dirname(dirname(__FILE__)).DS.'vendor'.DS.'autoload.php') {
    require_once dirname(dirname(__FILE__)).DS.'vendor'.DS.'autoload.php';
} else {
    /** @noinspection PhpIncludeInspection */
    require_once dirname(dirname(dirname(dirname(__FILE__)))).DS.'autoload.php';
}

$application = new Application('Project Toolbelt');

/** @var Finder|\SplFileInfo[] $finder */
$finder      = new Finder;
$commandsDir = dirname(__DIR__).DS.'src'.DS.'Console'.DS.'Command';
$finder->files()->in($commandsDir);

foreach ($finder as $file) {
    var_dump($file->getRealPath());
}


$application->run();